path,size_bytes,ext,loc
.env.example,362,example,16
tsconfig.json,381,json,19
.denoignore,123,denoignore,13
vite.config.ts,471,ts,22
deno.json,707,json,20
supabase/functions/test-bot-status/index.ts,2175,ts,74
supabase/functions/telegram-getwebhook/index.ts,1116,ts,37
supabase/functions/telegram-start-sim/index.ts,2161,ts,87
supabase/functions/test-webhook/index.ts,1511,ts,55
supabase/functions/ai-faq-assistant/index.ts,3248,ts,108
supabase/functions/analytics-data/index.ts,5551,ts,173
supabase/functions/trade-helper/index.ts,3757,ts,125
supabase/functions/setup-telegram-webhook/index.ts,4102,ts,141
supabase/functions/theme-save/index.ts,1712,ts,58
supabase/functions/telegram-webhook/index.ts,2896,ts,93
supabase/functions/binance-pay-checkout/index.ts,6249,ts,220
supabase/functions/cleanup-old-sessions/index.ts,8412,ts,293
supabase/functions/tg-verify-init/index.ts,3209,ts,109
supabase/functions/telegram-selftest/index.ts,3121,ts,98
supabase/functions/cleanup-old-receipts/index.ts,4433,ts,158
supabase/functions/debug-bot/index.ts,3282,ts,121
supabase/functions/telegram-bot/index.ts,8415,ts,290
supabase/functions/telegram-bot/admin-handlers.ts,47196,ts,1618
supabase/functions/telegram-bot/ocr.ts,1897,ts,52
supabase/functions/telegram-bot/helpers/beneficiary.ts,813,ts,30
supabase/functions/telegram-bot/helpers/require-env.ts,187,ts,4
supabase/functions/telegram-bot/vendor/esm.sh/is-electron@2.2.2.proxied.js,165,js,3
supabase/functions/telegram-bot/vendor/esm.sh/tesseract.js@5.1.1.proxied.js,314,js,6
supabase/functions/telegram-bot/vendor/esm.sh/is-electron@2.2.2/index.d.ts,61,ts,2
supabase/functions/telegram-bot/vendor/esm.sh/is-electron@2.2.2/denonext/is-electron.mjs,1348,mjs,45
supabase/functions/telegram-bot/vendor/esm.sh/tesseract.js@5.1.1/denonext/tesseract.mjs,17478,mjs,704
supabase/functions/telegram-bot/vendor/esm.sh/tesseract.js@5.1.1/src/index.d.ts,7501,ts,333
supabase/functions/telegram-bot/vendor/esm.sh/is-electron@2.2.2.js,167,js,3
supabase/functions/telegram-bot/vendor/esm.sh/is-url@1.2.4.js,161,js,3
supabase/functions/telegram-bot/vendor/esm.sh/regenerator-runtime@0.13.11/runtime.js,164,js,3
supabase/functions/telegram-bot/vendor/esm.sh/regenerator-runtime@0.13.11/runtime.proxied.js,219,js,3
supabase/functions/telegram-bot/vendor/esm.sh/regenerator-runtime@0.13.11/denonext/regenerator-runtime.mjs,12235,mjs,420
supabase/functions/telegram-bot/vendor/esm.sh/is-url@1.2.4/denonext/is-url.mjs,1175,mjs,45
supabase/functions/telegram-bot/vendor/esm.sh/tesseract.js@5.1.1.js,161,js,3
supabase/functions/telegram-bot/vendor/esm.sh/@types/is-url@1.2.32/index.d.ts,113,ts,6
supabase/functions/telegram-bot/vendor/esm.sh/@types/regenerator-runtime@0.13.8/index.d.ts,6802,ts,254
supabase/functions/telegram-bot/vendor/esm.sh/is-url@1.2.4.proxied.js,140,js,3
supabase/functions/telegram-bot/vendor/import_map.json,881,json,17
supabase/functions/telegram-bot/bank-parsers.ts,4697,ts,153
supabase/functions/telegram-bot/database-utils.ts,28294,ts,1082
supabase/functions/setup-webhook/index.ts,2904,ts,105
supabase/functions/telegram-setwebhook/index.ts,1764,ts,62
supabase/functions/verify-telegram/index.ts,3870,ts,134
supabase/functions/keep-alive/index.ts,1840,ts,74
supabase/functions/reset-bot/index.ts,3735,ts,126
supabase/functions/theme-get/index.ts,1498,ts,49
supabase/migrations/20250808041000_add_missing_foreign_keys.sql,754,sql,22
supabase/migrations/20250808070000_bank_auto_approval.sql,2048,sql,53
supabase/migrations/20250808054910_bank_receipts.sql,1236,sql,36
supabase/migrations/20250807024118_misty_water.sql,4941,sql,169
supabase/migrations/20250808071000_add_bot_settings_and_batch_functions.sql,2759,sql,77
supabase/migrations/20250807030500_seed_plan_channels.sql,723,sql,20
supabase/migrations/20250808043000_fix_rls_auth_functions.sql,2150,sql,97
supabase/migrations/20250807030000_add_plan_channels_table.sql,1536,sql,51
supabase/migrations/20250811_connect_bot_users_fks.sql,12718,sql,309
supabase/migrations/20250808040000_add_subscription_plan_columns.sql,609,sql,12
supabase/migrations/20250808053100_adjust_policy_roles.sql,1368,sql,65
supabase/migrations/20250808042000_optimize_indexes.sql,3791,sql,73
supabase/migrations/20250807023345_navy_boat.sql,4447,sql,177
supabase/migrations/20250808054000_add_index_advisor_extension.sql,161,sql,4
supabase/migrations/20250808055000_enforce_unique_promo_usage.sql,505,sql,13
supabase/migrations/20250808060000_seed_bank_accounts.sql,557,sql,12
supabase/config.toml,911,toml,55
tests/broadcast-queue.test.ts,2108,ts,77
tests/telegram-webhook.test.ts,1104,ts,25
tests/featureflags.test.ts,1222,ts,44
tests/retry.test.ts,1967,ts,72
tests/cache.test.ts,1498,ts,53
tests/circuit.test.ts,1342,ts,47
tsconfig.app.json,652,json,30
bun.lockb,198351,lockb,386
public/placeholder.svg,348,svg,6
public/favicon.ico,7645,ico,31
public/robots.txt,160,txt,14
package.json,2970,json,88
supabase/functions/miniapp/static/img/tile-mib.svg,199,svg,4
supabase/functions/miniapp/static/img/logo-dynamic-capital.svg,203,svg,5
supabase/functions/miniapp/static/img/qr-frame.svg,149,svg,3
supabase/functions/miniapp/static/img/tile-bml.svg,199,svg,4
supabase/functions/miniapp/src/router.tsx,539,tsx,18
supabase/functions/miniapp/src/pages/Me.tsx,986,tsx,39
supabase/functions/miniapp/src/pages/Crypto.tsx,2167,tsx,72
supabase/functions/miniapp/src/pages/Bank.tsx,1763,tsx,59
supabase/functions/miniapp/src/pages/Home.tsx,744,tsx,28
supabase/functions/miniapp/src/pages/Admin.tsx,1075,tsx,41
supabase/functions/miniapp/src/components/NetworkPicker.tsx,635,tsx,30
supabase/functions/miniapp/src/components/ApproveButton.tsx,345,tsx,15
supabase/functions/miniapp/src/components/TopBar.tsx,382,tsx,15
supabase/functions/miniapp/src/components/GlassRow.tsx,327,tsx,16
supabase/functions/miniapp/src/components/PrimaryButton.tsx,345,tsx,15
supabase/functions/miniapp/src/components/ReceiptUploader.tsx,782,tsx,35
supabase/functions/miniapp/src/components/StatusPill.tsx,369,tsx,16
supabase/functions/miniapp/src/components/RejectButton.tsx,343,tsx,15
supabase/functions/miniapp/src/components/Toast.tsx,605,tsx,30
supabase/functions/miniapp/src/components/GlassPanel.tsx,246,tsx,10
supabase/functions/miniapp/src/components/SecondaryButton.tsx,345,tsx,15
supabase/functions/miniapp/src/hooks/useTelegram.ts,2697,ts,91
supabase/functions/miniapp/src/hooks/useApi.ts,1416,ts,57
supabase/functions/miniapp/src/styles/theme.css,2255,css,125
supabase/functions/miniapp/src/main.tsx,463,tsx,19
supabase/functions/miniapp/README.md,576,md,20
scripts/splinter_fk_index_pr.sh,775,sh,24
scripts/verify/miniapp_safety.sh,992,sh,34
scripts/verify/deployed_function_checks.sh,977,sh,34
scripts/verify/static_code_checks.sh,2075,sh,49
scripts/verify/runtime_wiring_checks.sh,1326,sh,45
scripts/verify/utils.sh,420,sh,9
scripts/verify/verify_all.sh,1134,sh,42
scripts/ci.sh,564,sh,27
scripts/cleanup/gate_supabase.sh,1014,sh,42
scripts/cleanup/guard_rules.sh,1159,sh,57
scripts/cleanup/find_orphans.sh,913,sh,28
scripts/cleanup/report.sh,1294,sh,50
scripts/cleanup/utils.sh,420,sh,9
scripts/cleanup/supabase_verify.sh,1108,sh,31
scripts/cleanup/find_dupes.sh,1491,sh,48
scripts/gen_fk_indexes.sh,2199,sh,58
scripts/fix_all.sh,429,sh,16
scripts/telegram-webhook.sh,2079,sh,63
scripts/audit/scan_code.mjs,2843,mjs,93
scripts/audit/read_meta.mjs,1215,mjs,49
scripts/audit/run.sh,479,sh,19
scripts/audit/report.mjs,4251,mjs,134
scripts/fix_and_check.sh,471,sh,18
scripts/setup-supabase-cli.sh,396,sh,12
scripts/deno_bin.sh,236,sh,9
scripts/typecheck.sh,1195,sh,42
scripts/codemods/require_await_pad.mjs,1983,mjs,69
scripts/codemods/wrap_ts_comments.mjs,1009,mjs,36
scripts/fk_index_seed.sql,489,sql,5
scripts/splinter_run.sh,619,sh,16
eslint.config.js,759,js,26
.gitignore,591,gitignore,43
types/telegram-bot.ts,14839,ts,646
types/tesseract.d.ts,743,ts,24
src/index.css,3192,css,132
src/utils/http.ts,118,ts,4
src/utils/timezones.ts,641,ts,23
src/utils/circuit.ts,584,ts,22
src/utils/config.ts,5173,ts,196
src/utils/retry.ts,370,ts,14
src/utils/cache.ts,2050,ts,96
src/utils/http-ca.ts,212,ts,7
src/vite-env.d.ts,38,ts,1
src/pages/RefreshBot.tsx,1666,tsx,61
src/pages/Auth.tsx,718,tsx,30
src/pages/Index.tsx,232,tsx,13
src/pages/Education.tsx,15370,tsx,404
src/pages/BotStatus.tsx,7943,tsx,233
src/pages/NotFound.tsx,740,tsx,27
src/broadcast/index.ts,1396,ts,48
src/integrations/supabase/client.ts,1424,ts,46
src/integrations/supabase/types.ts,48108,ts,1564
src/components/telegram/BotDashboard.tsx,32653,tsx,877
src/components/layout/Header.tsx,3407,tsx,99
src/components/welcome/WelcomeMessage.tsx,11908,tsx,293
src/components/ui/sonner.tsx,901,tsx,29
src/components/ui/tabs.tsx,1897,tsx,53
src/components/ui/radio-group.tsx,1479,tsx,42
src/components/ui/textarea.tsx,765,tsx,23
src/components/ui/switch.tsx,1147,tsx,27
src/components/ui/input.tsx,799,tsx,22
src/components/ui/toaster.tsx,777,tsx,33
src/components/ui/alert-dialog.tsx,4449,tsx,139
src/components/ui/chart.tsx,10649,tsx,363
src/components/ui/hover-card.tsx,1193,tsx,27
src/components/ui/carousel.tsx,6289,tsx,260
src/components/ui/context-menu.tsx,7287,tsx,198
src/components/ui/form.tsx,4119,tsx,175
src/components/ui/toggle.tsx,1444,tsx,43
src/components/ui/drawer.tsx,3030,tsx,116
src/components/ui/skeleton.tsx,264,tsx,15
src/components/ui/command.tsx,4897,tsx,153
src/components/ui/navigation-menu.tsx,5073,tsx,128
src/components/ui/popover.tsx,1239,tsx,29
src/components/ui/button.tsx,2217,tsx,61
src/components/ui/tooltip.tsx,1155,tsx,28
src/components/ui/scroll-area.tsx,1651,tsx,46
src/components/ui/menubar.tsx,8022,tsx,234
src/components/ui/collapsible.tsx,320,tsx,9
src/components/ui/use-toast.ts,82,ts,3
src/components/ui/sheet.tsx,4318,tsx,141
src/components/ui/checkbox.tsx,1064,tsx,28
src/components/ui/toggle-group.tsx,1753,tsx,59
src/components/ui/input-otp.tsx,2172,tsx,69
src/components/ui/toast.tsx,4872,tsx,127
src/components/ui/progress.tsx,784,tsx,26
src/components/ui/breadcrumb.tsx,2725,tsx,115
src/components/ui/avatar.tsx,1417,tsx,48
src/components/ui/calendar.tsx,2632,tsx,65
src/components/ui/separator.tsx,765,tsx,29
src/components/ui/card.tsx,1907,tsx,86
src/components/ui/alert.tsx,1596,tsx,59
src/components/ui/label.tsx,719,tsx,24
src/components/ui/accordion.tsx,1990,tsx,56
src/components/ui/dialog.tsx,3861,tsx,120
src/components/ui/pagination.tsx,2783,tsx,119
src/components/ui/dropdown-menu.tsx,7335,tsx,198
src/components/ui/badge.tsx,1139,tsx,37
src/components/ui/resizable.tsx,1719,tsx,43
src/components/ui/select.tsx,5643,tsx,158
src/components/ui/table.tsx,2787,tsx,117
src/components/ui/sidebar.tsx,23528,tsx,764
src/components/ui/slider.tsx,1084,tsx,26
src/components/ui/aspect-ratio.tsx,143,tsx,5
src/components/auth/AuthForm.tsx,10047,tsx,303
src/components/admin/ContactInfo.tsx,17327,tsx,517
src/components/admin/VipPlansManager.tsx,2435,tsx,95
src/components/admin/BotSettings.tsx,7868,tsx,245
src/components/admin/BotDebugger.tsx,4943,tsx,167
src/components/admin/AdminDashboard.tsx,18841,tsx,563
src/components/admin/SystemStatus.tsx,22591,tsx,647
src/components/admin/UserManagement.tsx,28987,tsx,828
src/components/admin/WelcomeMessageEditor.tsx,14120,tsx,445
src/hooks/use-mobile.tsx,614,tsx,23
src/hooks/useAuth.tsx,3274,tsx,131
src/hooks/use-toast.ts,4043,ts,190
src/lib/utils.ts,169,ts,6
src/queue/index.ts,3987,ts,172
src/App.tsx,1642,tsx,43
src/App.css,606,css,42
src/main.tsx,161,tsx,5
tsconfig.node.json,481,json,22
postcss.config.js,81,js,6
components.json,414,json,20
miniapp/tsconfig.json,535,json,21
miniapp/vite.config.ts,140,ts,6
miniapp/tailwind.config.js,1917,js,46
miniapp/src/index.css,3392,css,135
miniapp/src/api.ts,1323,ts,46
miniapp/src/App.tsx,1790,tsx,63
miniapp/src/theme.ts,903,ts,37
miniapp/src/main.tsx,251,tsx,10
miniapp/postcss.config.js,181,js,7
supabase/functions/miniapp/static/index.html,468,html,15
docs/api-documentation.md,13941,md,599
docs/supabase-audit-report.md,8586,md,314
docs/index-advisor.md,719,md,28
docs/code-structure.md,18690,md,685
docs/CONFIG.md,2648,md,29
docs/GO_LIVE_CHECKLIST.md,1640,md,52
docs/agent.md,5081,md,159
.github/workflows/post_deploy_smoke.yml,942,yml,29
.github/workflows/migrations.yml,715,yml,25
.github/workflows/assets_audit.yml,662,yml,25
.github/workflows/audit.yml,701,yml,27
.github/workflows/ci-deploy-dc.yml,1050,yml,36
.github/workflows/splinter-fk-index.yml,1378,yml,35
.github/workflows/auto-merge.yml,767,yml,29
.github/workflows/deno.yml,1112,yml,44
.github/workflows/checks.yml,406,yml,19
.github/workflows/auto-pr.yml,1344,yml,47
.github/workflows/verify.yml,633,yml,21
README.md,2424,md,98
index.html,1004,html,33
tailwind.config.ts,3221,ts,112
package-lock.json,272100,json,7614
.bolt/supabase_discarded_migrations/20250803063516_235f296c-d879-4a9d-af54-9f87a4376bdb.sql,272,sql,7
.bolt/supabase_discarded_migrations/20250804100911_a81623f8-4aeb-4aa0-93a1-89c36608ad0f.sql,269,sql,11
.bolt/supabase_discarded_migrations/20250806110637_a176609a-f7c9-46ce-ac50-d4fc42333f64.sql,2599,sql,110
.bolt/supabase_discarded_migrations/20250806145812_bbb78f23-7815-4c6d-91ec-771b2ad60c7c.sql,5705,sql,88
.bolt/supabase_discarded_migrations/20250806170155_8263b976-b5bf-4f26-a62b-d4ea276bc4a5.sql,1093,sql,17
.bolt/supabase_discarded_migrations/20250806155953_98cbe607-3f0c-4161-9b75-d893dae38747.sql,750,sql,8
.bolt/supabase_discarded_migrations/20250806112004_863ed19e-3a5a-4cf0-9191-9e8e03350d5f.sql,5514,sql,163
.bolt/supabase_discarded_migrations/20250804160640_335e6ded-3e2a-4d2c-9c95-2a32066675c1.sql,543,sql,5
.bolt/supabase_discarded_migrations/20250804134616_7069fb48-7091-4233-9e02-e35e1c8b1fca.sql,252,sql,5
.bolt/supabase_discarded_migrations/20250806170846_213ace48-b5ee-48a7-b358-97762d329fc3.sql,1938,sql,43
.bolt/supabase_discarded_migrations/20250806122053_4e98006d-90f0-45b5-befc-c2b486ee6abd.sql,2649,sql,75
.bolt/supabase_discarded_migrations/20250804102233_df5a1908-778d-4e6a-a99e-4bc81c627366.sql,158,sql,3
.bolt/supabase_discarded_migrations/20250804083313_6b37e063-ac58-4622-a8ab-54d35b2821d7.sql,1191,sql,10
.bolt/supabase_discarded_migrations/20250806112103_0165eb4d-b77e-4d38-b71f-ff22eec29ad0.sql,1660,sql,55
.bolt/supabase_discarded_migrations/20250806150049_19ba91dc-691f-41af-ba84-7c6a7a54dbcf.sql,3254,sql,87
.bolt/supabase_discarded_migrations/20250804121449_87bfbe33-902f-4e81-aa99-18c9bbc90e2b.sql,1419,sql,31
.bolt/supabase_discarded_migrations/20250806145853_7e04b386-4519-4586-9d0d-b4d269e72a7d.sql,3811,sql,51
.bolt/supabase_discarded_migrations/20250806111116_1a9ee43d-a7af-476c-b179-a06898860018.sql,411,sql,15
.bolt/supabase_discarded_migrations/20250804154803_5f0c5dd9-026a-435a-bedf-0a1e9f9ce679.sql,365,sql,9
.bolt/supabase_discarded_migrations/20250804142752_dbb373f3-8860-478a-a589-8263f443a15d.sql,5671,sql,131
.bolt/supabase_discarded_migrations/20250806171602_ffc92163-1aa3-4db6-b0f6-e85cb1eb0e4b.sql,1595,sql,35
.bolt/supabase_discarded_migrations/20250806144720_fa3d06f1-716e-4c0b-b6b4-f36375ee1797.sql,4403,sql,95
.bolt/supabase_discarded_migrations/20250806121734_97597ffb-daf6-46ed-8de5-fbddd17bcaec.sql,2543,sql,78
.bolt/supabase_discarded_migrations/20250804102337_b59aeb09-3cac-4e45-a022-27487860eb68.sql,838,sql,21
.bolt/supabase_discarded_migrations/20250804043651_41c4750c-ac0f-41d6-bb61-e2971a621113.sql,3676,sql,92
.bolt/supabase_discarded_migrations/20250806135454_19595385-a81f-4bb3-96af-4df8cc7d1428.sql,1678,sql,16
.bolt/supabase_discarded_migrations/20250804142210_79e3e010-93ee-4915-a34a-5a5bd8c2a6d3.sql,2754,sql,86
.bolt/supabase_discarded_migrations/20250804083229_10798f72-8f92-46f4-8528-88d8840430a6.sql,1309,sql,11
.bolt/supabase_discarded_migrations/20250804102627_89383f06-2c85-438e-a3ec-5a6ff1681e03.sql,756,sql,16
.bolt/supabase_discarded_migrations/20250806135528_da075bcb-a7c0-4a05-9886-332788c43511.sql,1373,sql,16
.bolt/supabase_discarded_migrations/20250804124903_5491840a-bd63-46c7-bfd9-81efadb9ee14.sql,3970,sql,108
.bolt/supabase_discarded_migrations/20250804125604_ba36f8c5-5135-4b08-800d-22d24526bca2.sql,517,sql,26
.bolt/supabase_discarded_migrations/20250806120417_17fa7aa9-a4ed-40e5-99f4-e12d779622a1.sql,2947,sql,60
.bolt/supabase_discarded_migrations/20250806145959_87cc2f4d-6390-4eb9-874e-be784a0a6b4b.sql,2774,sql,61
.bolt/supabase_discarded_migrations/20250806035116_92191b4d-31be-442f-b932-b69e4ba30085.sql,5419,sql,88
.bolt/supabase_discarded_migrations/20250804100844_756654ba-dfbe-4c16-a24c-61eab66d8a20.sql,7142,sql,184
.bolt/supabase_discarded_migrations/20250804124223_bc2710ed-8f14-4274-818e-f57db028d21a.sql,3352,sql,84
.bolt/supabase_discarded_migrations/20250806122438_4519a677-be15-43d4-b5bb-5ed0d17a653d.sql,1394,sql,36
.bolt/supabase_discarded_migrations/20250804081712_4b00d5ba-0e2a-4ac3-9b38-cbe438dc6888.sql,689,sql,7
.bolt/supabase_discarded_migrations/20250806093925_b1e01150-e53a-42f1-9c29-316419d767d6.sql,3218,sql,86
.bolt/supabase_discarded_migrations/20250803063425_6afaab06-630b-4933-8022-22b9392151a0.sql,3721,sql,98
.bolt/supabase_discarded_migrations/20250806171139_264acfb9-f11c-4192-9ecd-f7d2c9cd6464.sql,2409,sql,25
.bolt/supabase_discarded_migrations/20250806034402_79e0d804-ac02-420c-9b82-52f8e1107549.sql,1564,sql,39
.bolt/supabase_discarded_migrations/20250806121841_98c59f65-9681-4db2-9b61-120e40c8546c.sql,2226,sql,61
.bolt/supabase_discarded_migrations/20250806112030_042d4d0f-4fd1-43d3-925f-85d9a0caf6bc.sql,738,sql,33
.bolt/supabase_discarded_migrations/20250806140932_6ef28a7a-507b-440d-a7d9-41f333822b89.sql,1805,sql,30
.bolt/supabase_discarded_migrations/20250804104653_91a1af5a-709a-4b4e-b03c-e621555cf8be.sql,1288,sql,37
